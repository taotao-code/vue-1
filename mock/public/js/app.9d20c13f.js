(function(t){function e(e){for(var a,s,r=e[0],c=e[1],l=e[2],d=0,f=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},i={app:0},o=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"08df":function(t,e,n){"use strict";var a=n("3ec0"),i=n.n(a);i.a},1978:function(t,e,n){},"1ec6":function(t,e,n){"use strict";var a=n("54e9"),i=n.n(a);i.a},"229f":function(t,e,n){"use strict";var a=n("9f36"),i=n.n(a);i.a},"281c":function(t,e,n){"use strict";var a=n("c959"),i=n.n(a);i.a},"2a0a":function(t,e,n){"use strict";var a=n("db40"),i=n.n(a);i.a},"2a32":function(t,e,n){"use strict";var a=n("6c92"),i=n.n(a);i.a},3371:function(t,e,n){"use strict";var a=n("ea06"),i=n.n(a);i.a},"3aff":function(t,e,n){},"3d34":function(t,e,n){},"3ec0":function(t,e,n){},"42b7":function(t,e,n){"use strict";var a=n("d1b0"),i=n.n(a);i.a},"4a26":function(t,e,n){"use strict";var a=n("ea49"),i=n.n(a);i.a},"54e9":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("loading",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.bLoading,expression:"$store.state.bLoading"}]}),n("Nav",{directives:[{name:"show",rawName:"v-show",value:t.hNav,expression:"hNav"}]}),n("Header",{directives:[{name:"show",rawName:"v-show",value:t.bNav,expression:"bNav"}]}),n("router-view"),n("Footer",{directives:[{name:"show",rawName:"v-show",value:t.bFoot,expression:"bFoot"}]})],1)},o=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav"},[n("ul",[n("router-link",{attrs:{tag:"li","active-class":"active",to:"/follow",id:"city"}},[n("a",{attrs:{href:"javascript;"}},[t._v("大连")]),n("i",{staticClass:"iconfont icon-lower-triangle"})]),n("li",{attrs:{id:"k"}}),n("router-link",{attrs:{tag:"li","active-class":"active",to:"/home"}},[n("a",{attrs:{href:"javascript;"}},[t._v("正在热映")])]),n("router-link",{attrs:{tag:"li","active-class":"active",to:"/column"}},[n("a",{attrs:{href:"javascript;"}},[t._v("即将上映")])])],1)])},r=[],c={name:"Header",props:{},data:function(){return{}},components:{},mounted:function(){},updated:function(){},methods:{}},l=c,u=(n("a4eb"),n("2877")),d=Object(u["a"])(l,s,r,!1,null,"f83325f6",null),f=d.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"foot-btn"},[n("ul",[n("router-link",{attrs:{tag:"li",to:"/home"}},[n("i",{staticClass:"iconfont icon-dianying"}),n("p",[t._v("电影")])]),n("router-link",{attrs:{tag:"li",to:"/cilist"}},[n("i",{staticClass:"iconfont icon-yingyuan"}),n("p",[t._v("影院")])]),n("router-link",{attrs:{tag:"li",to:"/user"}},[n("i",{staticClass:"iconfont icon-wode"}),n("p",[t._v("我的")])])],1)])},v=[],m={name:"Footer",props:{},data:function(){return{}},components:{},mounted:function(){},updated:function(){},methods:{}},h=m,_=(n("2a32"),Object(u["a"])(h,p,v,!1,null,"da558168",null)),b=_.exports,g=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},w=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spinner"},[n("div",{staticClass:"double-bounce1"}),n("div",{staticClass:"double-bounce2"})])}],y={name:"uc-loading"},C=y,x=(n("e549"),Object(u["a"])(C,g,w,!1,null,null,null)),E=x.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav",style:{background:"bgColor","border-width":t.borderWidth+"px"}},[n("ul",[n("li",{class:"gray",on:{click:function(e){return t.$router.go(-1)}}},[t._t("default"),n("h1",[t._v(t._s(t.title))])],2)])])},k=[],N=(n("a9e3"),{name:"uc-nav",props:{bgColor:{type:String,default:"#fff"},borderWidth:{type:Number,default:1},arrow:{type:String,default:"default"},title:{type:String,default:"喵喵电影"}},data:function(){return{}},components:{},mounted:function(){},updated:function(){},methods:{}}),j=N,$=(n("fdb5"),Object(u["a"])(j,O,k,!1,null,"3d1869e2",null)),T=$.exports,L=n("2f62"),D="UPDATE_LOADING",U="UPDATE_NAV",P="UPDATE_FOOT",S="UPDATE_HEADER",A="UPDATE_HOME",M="UPDATE_FOLLOW",F="UPDATE_COLUMN",I="UPDATE_BANNER",z="UPDATE_DETAIL",q="UPDATE_USER",H="UPDATE_CILIST",B={name:"App",data:function(){return{}},watch:{$route:{handler:function(t){var e=t.path;/home|follow|column|cilist|detail/.test(e)&&(this.$store.commit(U,!0),this.$store.commit(P,!0),this.$store.commit(S,!0)),/login|reg|user/.test(e)&&(this.$store.commit(U,!1),this.$store.commit(P,!1),this.$store.commit(S,!0))},immediate:!0}},mounted:function(){},beforeUpdate:function(){console.log("app updated")},components:{Header:f,Footer:b,loading:E,Nav:T},computed:Object(L["c"])(["bFoot","bNav","hNav"]),methods:{}},R=B,W=Object(u["a"])(R,i,o,!1,null,null,null),J=W.exports,X=(n("3aff"),n("bfc7"),n("b37a"),n("5530")),Y=n("8c4f"),G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("UcBanner",{attrs:{data:t.$store.state.banner,collectionName:"banner"}}),n("div",{staticClass:"list"},t._l(t.$store.state.home,(function(t,e){return n("UcCell",{key:t._id,attrs:{data:t,index:e,collectionName:"home"}})})),1)],1)},V=[],Z=n("bc3a"),K=n.n(Z),Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"banner"},[n("ul",{staticClass:"clearfix"},t._l(t.data,(function(e,a){return n("router-link",{key:e._id,attrs:{tag:"li",to:{name:"detail",params:{_id:e._id},query:{collectionName:t.collectionName}}}},[n("img",{attrs:{src:e.banner,alt:""}}),n("div",{staticClass:"text-box"},[n("h2",[t._v(t._s(e.title))]),n("p",[t._v(t._s(e.sub_title))])])])})),1)])},tt=[];function et(t,e){var n=function(){},a=function(t){setTimeout(t||n,0)},i={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(t){var e=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in e)if(void 0!==t.style[e[n]])return!0;return!1}(document.createElement("swipe"))};if(t){var o,s,r,c,l=t.children[0];e=e||{};var u=parseInt(e.startSlide,10)||0,d=e.speed||300;e.continuous=void 0===e.continuous||e.continuous;var f,p,v=e.auto||0,m={},h={},_={handleEvent:function(t){switch(t.type){case"touchstart":this.start(t);break;case"touchmove":this.move(t);break;case"touchend":a(this.end(t));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":a(this.transitionEnd(t));break;case"resize":a(b);break}e.stopPropagation&&t.stopPropagation()},start:function(t){var e=t.touches[0];m={x:e.pageX,y:e.pageY,time:+new Date},p=void 0,h={},l.addEventListener("touchmove",this,!1),l.addEventListener("touchend",this,!1)},move:function(t){if(!(t.touches.length>1||t.scale&&1!==t.scale)){e.disableScroll&&t.preventDefault();var n=t.touches[0];h={x:n.pageX-m.x,y:n.pageY-m.y},"undefined"==typeof p&&(p=!!(p||Math.abs(h.x)<Math.abs(h.y))),p||(t.preventDefault(),N(),e.continuous?(E(y(u-1),h.x+s[y(u-1)],0),E(u,h.x+s[u],0),E(y(u+1),h.x+s[y(u+1)],0)):(h.x=h.x/(!u&&h.x>0||u==o.length-1&&h.x<0?Math.abs(h.x)/r+1:1),E(u-1,h.x+s[u-1],0),E(u,h.x+s[u],0),E(u+1,h.x+s[u+1],0)))}},end:function(t){var n=+new Date-m.time,a=Number(n)<250&&Math.abs(h.x)>20||Math.abs(h.x)>r/2,i=!u&&h.x>0||u==o.length-1&&h.x<0;e.continuous&&(i=!1);var c=h.x<0;p||(a&&!i?(c?(e.continuous?(x(y(u-1),-r,0),x(y(u+2),r,0)):x(u-1,-r,0),x(u,s[u]-r,d),x(y(u+1),s[y(u+1)]-r,d),u=y(u+1)):(e.continuous?(x(y(u+1),r,0),x(y(u-2),-r,0)):x(u+1,r,0),x(u,s[u]+r,d),x(y(u-1),s[y(u-1)]+r,d),u=y(u-1)),e.callback&&e.callback(u,o[u])):e.continuous?(x(y(u-1),-r,d),x(u,0,d),x(y(u+1),r,d)):(x(u-1,-r,d),x(u,0,d),x(u+1,r,d))),l.removeEventListener("touchmove",_,!1),l.removeEventListener("touchend",_,!1)},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)==u&&(v&&k(),e.transitionEnd&&e.transitionEnd.call(t,u,o[u]))}};return b(),v&&k(),i.addEventListener?(i.touch&&l.addEventListener("touchstart",_,!1),i.transitions&&(l.addEventListener("webkitTransitionEnd",_,!1),l.addEventListener("msTransitionEnd",_,!1),l.addEventListener("oTransitionEnd",_,!1),l.addEventListener("otransitionend",_,!1),l.addEventListener("transitionend",_,!1)),window.addEventListener("resize",_,!1)):window.onresize=function(){b()},{setup:function(){b()},slide:function(t,e){N(),C(t,e)},prev:function(){N(),g()},next:function(){N(),w()},stop:function(){N()},getPos:function(){return u},getNumSlides:function(){return c},kill:function(){N(),l.style.width="",l.style.left="";var t=o.length;while(t--){var e=o[t];e.style.width="",e.style.left="",i.transitions&&E(t,0,0)}i.addEventListener?(l.removeEventListener("touchstart",_,!1),l.removeEventListener("webkitTransitionEnd",_,!1),l.removeEventListener("msTransitionEnd",_,!1),l.removeEventListener("oTransitionEnd",_,!1),l.removeEventListener("otransitionend",_,!1),l.removeEventListener("transitionend",_,!1),window.removeEventListener("resize",_,!1)):window.onresize=null}}}function b(){o=l.children,c=o.length,o.length<2&&(e.continuous=!1),i.transitions&&e.continuous&&o.length<3&&(l.appendChild(o[0].cloneNode(!0)),l.appendChild(l.children[1].cloneNode(!0)),o=l.children),s=new Array(o.length),r=t.getBoundingClientRect().width||t.offsetWidth,l.style.width=o.length*r+"px";var n=o.length;while(n--){var a=o[n];a.style.width=r+"px",a.setAttribute("data-index",n),i.transitions&&(a.style.left=n*-r+"px",x(n,u>n?-r:u<n?r:0,0))}e.continuous&&i.transitions&&(x(y(u-1),-r,0),x(y(u+1),r,0)),i.transitions||(l.style.left=u*-r+"px"),t.style.visibility="visible"}function g(){(e.continuous||u)&&C(u-1)}function w(){(e.continuous||u<o.length-1)&&C(u+1)}function y(t){return(o.length+t%o.length)%o.length}function C(t,n){if(u!=t){if(i.transitions){var c=Math.abs(u-t)/(u-t);if(e.continuous){var l=c;c=-s[y(t)]/r,c!==l&&(t=-c*o.length+t)}var f=Math.abs(u-t)-1;while(f--)x(y((t>u?t:u)-f-1),r*c,0);t=y(t),x(u,r*c,n||d),x(t,0,n||d),e.continuous&&x(y(t-c),-r*c,0)}else t=y(t),O(u*-r,t*-r,n||d);u=t,a(e.callback&&e.callback(u,o[u]))}}function x(t,e,n){E(t,e,n),s[t]=e}function E(t,e,n){var a=o[t],i=a&&a.style;i&&(i.webkitTransitionDuration=i.MozTransitionDuration=i.msTransitionDuration=i.OTransitionDuration=i.transitionDuration=n+"ms",i.webkitTransform="translate("+e+"px,0)translateZ(0)",i.msTransform=i.MozTransform=i.OTransform="translateX("+e+"px)")}function O(t,n,a){if(a)var i=+new Date,s=setInterval((function(){var r=+new Date-i;if(r>a)return l.style.left=n+"px",v&&k(),e.transitionEnd&&e.transitionEnd.call(event,u,o[u]),void clearInterval(s);l.style.left=(n-t)*(Math.floor(r/a*100)/100)+t+"px"}),4);else l.style.left=n+"px"}function k(){f=setTimeout(w,v)}function N(){v=0,clearTimeout(f)}}var nt,at=et,it=n("1157"),ot=n.n(it),st={name:"uc-banner",props:{data:{type:Array,required:!0},collectionName:{type:String,required:!0}},components:{},mounted:function(){0!==this.data.length&&this.initswiper()},updated:function(){this.initswiper()},methods:{initswiper:function(){new at(ot()(".banner")[0],{auto:2e3,continuous:!0,stopPropation:!0,callback:function(t,e){ot()(".banner ol li").removeClass("active"),ot()(".banner ol li").eq(t).addClass("active")}})}}},rt=st,ct=(n("3371"),Object(u["a"])(rt,Q,tt,!1,null,"c40f5aee",null)),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"uc-cell"},[n("div",{staticClass:"movie_body"},[n("div",{on:{click:t.toDetail}},[n("ul",[n("li",[n("div",{staticClass:"pic_show",on:{tap:function(e){return t.handleToDetail(t.data._id)}}},[n("img",{attrs:{src:t.data.detail.auth_icon}})]),n("div",{staticClass:"info_list"},[n("h2",{on:{tap:function(e){return t.handleToDetail(t.data._id)}}},[t._v(t._s(t.data.title)+" "),n("img",{attrs:{alt:""}})]),n("p",[n("span",{staticClass:"person"}),t._v(" "+t._s(t.data.num)+"人想看")]),n("p",[t._v("主演: "+t._s(t.data.des))]),n("p",[t._v("2020-10-01 上映")])]),n("div",{staticClass:"btn_pre"},[t._v(" 预售 ")])])])])])])},dt=[],ft=(n("99af"),{name:"uc-cell",props:{data:{type:Object,required:!0},collectionName:{type:String,default:null},index:{type:Number,default:null},isAdd:{type:Boolean,default:!0}},components:{},mounted:function(){},updated:function(){},methods:{toDetail:function(){this.collectionName&&this.$router.push("/detail/".concat(this.data._id,"?collectionName=").concat(this.collectionName))}}}),pt=ft,vt=(n("76db"),Object(u["a"])(pt,ut,dt,!1,null,"7215ad3f",null)),mt=vt.exports,ht={name:"home",props:{},components:{UcBanner:lt,UcCell:mt,Header:f,Footer:b},mounted:function(){this.$store.dispatch("UPDATE_HOME"),this.$store.dispatch("UPDATE_BANNER")},updated:function(){},methods:{},computed:Object(L["c"])({list:function(t){return t.home.home}})},_t=ht,bt=(n("4a26"),Object(u["a"])(_t,G,V,!1,null,"20ed2f6f",null)),gt=bt.exports,wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"follow"},[n("div",[n("div",{staticClass:"city_hot"},[n("h2",[t._v("热门城市")]),n("ul",{staticClass:"clearfix"},t._l(t.$store.state.follow,(function(e){return n("li",{key:e._id,on:{tap:function(n){return t.handleToCity(e.ct,e._id)}}},[t._v(t._s(e.ct))])})),0)]),n("div",{ref:"city_sort",staticClass:"city_sort"},t._l(t.$store.state.follow,(function(e){return n("div",{key:e._id},[n("h2",[t._v(t._s(e.ab))]),n("ul",t._l(t.$store.state.follow,(function(e){return n("li",{key:e._id,on:{tap:function(n){return t.handleToCity(e.um,e._id)}}},[t._v(t._s(e.um))])})),0)])})),0)]),n("div",{staticClass:"city_index"},[n("ul",t._l(t.$store.state.follow,(function(e){return n("li",{key:e._id,on:{touchstart:function(n){return t.handleToIndex(e.ab)}}},[t._v(t._s(e.ab))])})),0)])])},yt=[],Ct={props:{},data:function(){return{list:[]}},components:{},mounted:function(){this.$store.dispatch("UPDATE_FOLLOW")},updated:function(){},methods:{}},xt=Ct,Et=(n("42b7"),Object(u["a"])(xt,wt,yt,!1,null,"04b3155d",null)),Ot=Et.exports,kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column pd-top"},t._l(t.$store.state.column,(function(t,e){return n("UcCell",{key:t._id,attrs:{data:t,collectionName:"column"}})})),1)},Nt=[],jt={name:"column",props:{},components:{UcCell:mt},mounted:function(){this.$store.dispatch(F)},updated:function(){},methods:{}},$t=jt,Tt=(n("2a0a"),Object(u["a"])($t,kt,Nt,!1,null,"71a0437e",null)),Lt=Tt.exports,Dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.detail.title?n("div",{staticClass:"detail"},[n("div",{staticClass:"contentDetail",attrs:{id:"content"}},[n("uc-nav",{attrs:{title:"影片详情"}}),n("div",{staticClass:"detail_list"},[n("div",{staticClass:"detail_list_bg"}),n("div",{staticClass:"detail_list_filter"}),n("div",{staticClass:"detail_list_content"},[n("div",{staticClass:"detail_list_img"},[n("img",{attrs:{src:t.detail.detail.auth_icon,alt:""}})]),n("div",{staticClass:"detail_list_info"},[n("h2",[t._v(t._s(t.detail.title))]),n("p",[t._v("A Cool Fish")]),n("p",[t._v(t._s(t.detail.cs))]),n("p",[t._v(t._s(t.detail.title))]),n("p",[t._v("中国大陆 / 108分钟")]),n("p",[t._v("2018-11-16大陆上映")])])])]),n("div",{staticClass:"detail_intro"},[n("p",{domProps:{innerHTML:t._s(t.detail.detail.content)}})]),n("div",{staticClass:"detail_player swiper-container"},[n("ul",{staticClass:"swiper-wrapper"},[n("li",{staticClass:"swiper-slide"},[n("div",[n("img",{attrs:{src:t.detail.detail.auth_img,alt:""}})]),n("p",[t._v(t._s(t.detail.des))]),n("p",[t._v(t._s(t.detail.dep))])])])])],1)]):t._e()},Ut=[],Pt=(n("caad"),n("d3b7"),n("ac1f"),n("2532"),n("5319"),{bLoading:!0,bNav:!1,bFoot:!1,hNav:!1,home:[],follow:[],column:[],banner:[],cilist:[],detail:{},user:{err:1}}),St=n("ade3");function At(t){var e=t.collectionName,n=t._id,a=void 0===n?null:n,i=t.params,o=void 0===i?{_page:1,_limit:20}:i,s=a?"/api/"+e+"/"+a:"/api/"+e;return Wt.get(s,{params:o}).then((function(t){return t.data.data}))}var Mt,Ft=(nt={},Object(St["a"])(nt,A,(function(t){t.state;var e=t.commit;return At({collectionName:"home"}).then((function(t){return t&&e(A,t)}))})),Object(St["a"])(nt,M,(function(t){t.state;var e=t.commit;return At({collectionName:"follow",params:{_limit:15}}).then((function(t){return e(M,t)}))})),Object(St["a"])(nt,F,(function(t){t.state;var e=t.commit;return At({collectionName:"column",params:{_limit:10}}).then((function(t){return e(F,t)}))})),Object(St["a"])(nt,I,(function(t){t.state;var e=t.commit;return At({collectionName:"banner",params:{_limit:3}}).then((function(t){return t&&e(I,t)}))})),Object(St["a"])(nt,z,(function(t,e){t.state;var n=t.commit,a=e.collectionName,i=e._id;return At({collectionName:a,_id:i}).then((function(t){return n(z,t)}))})),Object(St["a"])(nt,H,(function(t){t.state;var e=t.commit;return At({collectionName:"cilist",params:{_limit:15}}).then((function(t){return e(H,t)}))})),nt),It=Ft,zt=(Mt={},Object(St["a"])(Mt,D,(function(t,e){return t.bLoading=e})),Object(St["a"])(Mt,U,(function(t,e){return t.bNav=e})),Object(St["a"])(Mt,P,(function(t,e){return t.bFoot=e})),Object(St["a"])(Mt,S,(function(t,e){return t.hNav=e})),Object(St["a"])(Mt,A,(function(t,e){return t.home=e})),Object(St["a"])(Mt,M,(function(t,e){return t.follow=e})),Object(St["a"])(Mt,F,(function(t,e){return t.column=e})),Object(St["a"])(Mt,I,(function(t,e){return t.banner=e})),Object(St["a"])(Mt,H,(function(t,e){return t.cilist=e})),Object(St["a"])(Mt,z,(function(t,e){return t.detail=e})),Object(St["a"])(Mt,q,(function(t,e){return t.user=e})),Mt),qt=zt;a["a"].use(L["a"]);var Ht=new L["a"].Store({actions:It,mutations:qt,state:Pt}),Bt=Ht,Rt=null;K.a.interceptors.request.use((function(t){var e=window.localStorage.getItem("user");return e=e?JSON.parse(window.localStorage.getItem("user")).token:"",t.headers={token:e},clearTimeout(Rt),Rt=setTimeout((function(){return Bt.commit(D,!0)}),200),t}),(function(t){return Promise.reject(t)})),K.a.interceptors.response.use((function(t){clearTimeout(Rt);var e=ze.currentRoute.fullPath;return 2!==t.data.err||e.includes("/login")||ze.replace({path:"/login",query:{p:e}}),Bt.commit(D,!1),t}),(function(t){return Promise.reject(t)})),a["a"].prototype.$axios=K.a;var Wt=K.a,Jt={name:"detail",props:{collectionName:{type:String,default:""},_id:{type:String,default:""}},components:{UcNav:T},mounted:function(){this[z]({collectionName:this.collectionName,_id:this._id})},updated:function(){},methods:Object(L["b"])([z]),computed:Object(L["c"])(["detail"])},Xt=Jt,Yt=(n("08df"),Object(u["a"])(Xt,Dt,Ut,!1,null,"71f94e22",null)),Gt=Yt.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("uc-nav",{attrs:{"bg-color":"transparent","border-width":0,arrow:"gray",title:"喵喵登录"}}),n("h1"),n("div",{staticClass:"login-box"},[n("p",{staticClass:"lsolid"}),n("div",{staticClass:"login"},[n("router-link",{attrs:{to:"/login"}},[t._v("登录")]),n("span"),n("router-link",{attrs:{to:"/reg"}},[t._v("注册")])],1),n("p",{staticClass:"rsolid"})]),n("ul",[n("li",{staticClass:"lifirst"},[n("uc-input",{attrs:{label:"用户名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),n("li",[n("uc-input",{attrs:{type:"password",label:"密 码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "+t._s(t.mess)+" ")],1)]),n("div",{staticClass:"footbox"},[n("uc-button",{attrs:{text:"登 录"},on:{click:t.login}}),n("a",{staticClass:"tishi",attrs:{href:"javascript:;"}},[t._v("忘记密码？")])],1)],1)},Zt=[],Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"uc-input"},[n("input",{style:{"padding-left":t.label?"1.24rem":".24rem"},attrs:{type:t.type},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),t.label?n("span",[t._v(t._s(t.label))]):t._e()])},Qt=[],te={name:"app",props:{label:{type:String,default:""},type:{type:String,default:"text"},value:{type:String,default:""}},data:function(){return{}},components:{},mounted:function(){},updated:function(){},methods:{}},ee=te,ne=(n("b94a"),Object(u["a"])(ee,Kt,Qt,!1,null,"6e1a187e",null)),ae=ne.exports,ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"uc-button"},[n("button",{staticClass:"login-btn",style:{background:t.bgColor},on:{click:function(e){return t.$emit("click",e)}}},["按 钮"!==t.text?[t._v(t._s(t.text))]:t._e(),"按 钮"===t.text?t._t("default",[t._v("按 钮")]):t._e()],2)])},oe=[],se={name:"uc-button",props:{text:{type:String,default:"按 钮"},bgColor:{type:String,default:"#e54847"}},data:function(){return{}},components:{},mounted:function(){},updated:function(){},methods:{}},re=se,ce=(n("61d4"),Object(u["a"])(re,ie,oe,!1,null,"6acde5eb",null)),le=ce.exports,ue={name:"login",props:{},data:function(){return{username:"",password:"",mess:""}},components:{UcNav:T,UcInput:ae,UcButton:le},mounted:function(){},updated:function(){},methods:{login:function(){var t=this;this.$axios({url:"/api/login",method:"post",data:{username:this.username,password:this.password}}).then((function(e){0===e.data.err?(window.localStorage.setItem("user",JSON.stringify(e.data)),t.$route.query.p?t.$router.push(t.$route.query.p):t.$router.push("/home")):t.mess=e.data.msg}))}}},de=ue,fe=(n("229f"),Object(u["a"])(de,Vt,Zt,!1,null,"2c975412",null)),pe=fe.exports,ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("uc-nav",{attrs:{"bg-color":"transparent","border-width":0,arrow:"gray",title:"喵喵注册"}}),n("h1"),n("div",{staticClass:"login-box"},[n("p",{staticClass:"lsolid"}),n("div",{staticClass:"login"},[n("router-link",{attrs:{to:"/login"}},[t._v("登录")]),n("span"),n("router-link",{attrs:{to:"/reg"}},[t._v("注册")])],1),n("p",{staticClass:"rsolid"})]),n("ul",[n("li",{staticClass:"lifirst"},[n("uc-input",{attrs:{label:"用户名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),n("li",[n("uc-input",{attrs:{type:"password",label:"密 码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)]),n("div",{staticClass:"footbox"},[n("uc-button",{attrs:{text:"注 册"},on:{click:t.reg}}),n("a",{staticClass:"tishi",attrs:{href:"javascript:;"}},[t._v("忘记密码？")])],1)],1)},me=[],he={name:"reg",props:{},data:function(){return{username:"",password:""}},components:{UcNav:T,UcInput:ae,UcButton:le},mounted:function(){},updated:function(){},methods:{reg:function(){var t=this;this.$axios({url:"/api/reg",method:"post",data:{username:this.username,password:this.password}}).then((function(e){0===e.data.err?t.$router.push("/login"):t.mess=e.data.msg}))}}},_e=he,be=(n("b988"),Object(u["a"])(_e,ve,me,!1,null,"47a70db1",null)),ge=be.exports,we=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"header"},[n("h2",[n("img",{attrs:{src:t.user.icon,alt:""}})]),n("div",{staticClass:"user-box"},[n("a",[t._v(t._s(t.user.nikename)+" ")]),n("a",{on:{click:t.logout}},[t._v(" 注销")])]),n("ul",{staticClass:"clear"},[n("li",[n("span",[t._v(t._s(t.user.follow))]),n("p",[t._v("关注")])]),n("li",[n("span",[t._v(t._s(t.user.fans))]),n("p",{staticClass:"end"},[t._v("粉丝")])])])]),t._m(0)])},ye=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"docList"},[n("ul",[n("li",{staticClass:"gk-text"},[n("i"),n("p",[t._v("公开博文")]),n("b"),n("span",[t._v("78")])]),n("li",{staticClass:"mm-text"},[n("i"),n("p",[t._v("秘密博文")]),n("b"),n("span",[t._v("23")])]),n("li",{staticClass:"cg-text"},[n("i"),n("p",[t._v("草稿箱")]),n("b"),n("span",[t._v("5")])]),n("li",{staticClass:"sc-text"},[n("i"),n("p",[t._v("收藏夹")]),n("b"),n("span",[t._v("16")])]),n("li",{staticClass:"my_cz"},[n("i"),n("p",[t._v("收藏夹")])])])])}],Ce={name:"user",props:{},data:function(){return{user:""}},beforeRouteEnter:function(t,e,n){Wt({url:"/api/user"}).then((function(t){0===t.data.err?n((function(e){e.user=t.data.data})):n("/login")}))},components:{Footer:b},mounted:function(){},updated:function(){},methods:{logout:function(){window.localStorage.removeItem("user"),this.$router.push("/login")}}},xe=Ce,Ee=(n("6c38"),Object(u["a"])(xe,we,ye,!1,null,"6e856920",null)),Oe=Ee.exports,ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-md-6 align-self-center"},[n("uc-nav",{attrs:{"bg-color":"transparent","border-width":0,arrow:"gray"}}),n("div",{staticClass:"nopage"},[n("h1",[t._v("404")]),n("h2",[t._v("UH OH! 页面丢失")]),n("p",[t._v("您所寻找的页面不存在。你可以点击下面的按钮，返回主页。 ")]),n("router-link",{attrs:{to:"/home"}},[t._v("回到首页")])],1)],1)},Ne=[],je={name:"no-page",props:{},data:function(){return{}},components:{UcNav:T},mounted:function(){},updated:function(){},methods:{}},$e=je,Te=(n("281c"),Object(u["a"])($e,ke,Ne,!1,null,null,null)),Le=Te.exports,De=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cinema_body"},[n("UcNav",{attrs:{title:"喵喵影院"}}),n("ul",t._l(t.$store.state.cilist,(function(e){return n("li",{key:e._id},[n("div",[n("span",[t._v(t._s(e.title))]),n("span",{staticClass:"q"},[n("span",{staticClass:"price"},[t._v(t._s(e.sellPrice))]),t._v(" 元起")])]),n("div",{staticClass:"address"},[n("span",[t._v(t._s(e.des))]),n("span",[t._v(t._s(e.km)+"km")])]),t._m(0,!0)])})),0)],1)},Ue=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[n("div",[t._v("小吃")]),n("div",[t._v("折扣卡")])])}],Pe={name:"cilist",props:{},components:{UcNav:T},mounted:function(){this.$store.dispatch(H)},updated:function(){},methods:{}},Se=Pe,Ae=(n("1ec6"),Object(u["a"])(Se,De,Ue,!1,null,"2ae36ec7",null)),Me=Ae.exports;a["a"].use(Y["a"]);var Fe=[{path:"/home",component:gt},{path:"/detail/:_id",component:Gt,name:"detail",props:function(t){return Object(X["a"])({_id:t.params._id},t.query)}},{path:"/follow",component:Ot},{path:"/column",component:Lt},{path:"/login",component:pe},{path:"/reg",component:ge},{path:"/user",component:Oe},{path:"/nopage",component:Le},{path:"/cilist",component:Me},{path:"/",redirect:"/home"},{path:"*",component:Le}],Ie=new Y["a"]({routes:Fe}),ze=Ie,qe=(n("4de4"),function(t){return t<10?"0"+t:""+t}),He=function(t){var e=new Date;e.setTime(t);var n=e.getFullYear(),a=e.getMonth()+1,i=e.getDate(),o=e.getHours(),s=e.getMinutes(),r=e.getSeconds();return"".concat(n,"-").concat(qe(a),"-").concat(qe(i)," ").concat(qe(o),":").concat(qe(s),":").concat(qe(r))};a["a"].filter("date",He),a["a"].filter("fillzero",qe),a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(J)},router:ze,store:Bt}).$mount("#app")},"61d4":function(t,e,n){"use strict";var a=n("3d34"),i=n.n(a);i.a},"63a2":function(t,e,n){},"6c38":function(t,e,n){"use strict";var a=n("ddc8"),i=n.n(a);i.a},"6c92":function(t,e,n){},"6e6b":function(t,e,n){},"76db":function(t,e,n){"use strict";var a=n("6e6b"),i=n.n(a);i.a},"9a48":function(t,e,n){},"9f36":function(t,e,n){},a4eb:function(t,e,n){"use strict";var a=n("cd66"),i=n.n(a);i.a},b37a:function(t,e,n){},b94a:function(t,e,n){"use strict";var a=n("1978"),i=n.n(a);i.a},b988:function(t,e,n){"use strict";var a=n("9a48"),i=n.n(a);i.a},ba26:function(t,e,n){},bfc7:function(t,e){(function(t,e){var n=t.documentElement,a="orientationchange"in window?"orientationchange":"resize",i=function(){var t=n.clientWidth;t>=640&&(t=640),t&&(n.style.fontSize=t/640*100+"px")};t.addEventListener&&(e.addEventListener(a,i,!1),t.addEventListener("DOMContentLoaded",i,!1))})(document,window)},c959:function(t,e,n){},cd66:function(t,e,n){},d1b0:function(t,e,n){},db40:function(t,e,n){},ddc8:function(t,e,n){},e549:function(t,e,n){"use strict";var a=n("ba26"),i=n.n(a);i.a},ea06:function(t,e,n){},ea49:function(t,e,n){},fdb5:function(t,e,n){"use strict";var a=n("63a2"),i=n.n(a);i.a}});
//# sourceMappingURL=app.9d20c13f.js.map